# =============================================================================
# Read Master - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------

# Application environment: development | staging | production
NODE_ENV=development

# Base URL for the application (used for absolute URLs, OAuth callbacks, etc.)
APP_URL=http://localhost:3000

# API base URL (for frontend to call backend)
API_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# Database - Vercel Postgres
# -----------------------------------------------------------------------------
# Get these from your Vercel dashboard: https://vercel.com/dashboard
# Project -> Storage -> Postgres

# Primary connection string (with connection pooling for serverless)
DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require&pgbouncer=true"

# Direct connection string (for migrations, without connection pooling)
DIRECT_DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require"

# -----------------------------------------------------------------------------
# Cache - Upstash Redis
# -----------------------------------------------------------------------------
# Get these from your Upstash console: https://console.upstash.com/

UPSTASH_REDIS_REST_URL="https://your-redis-url.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-upstash-redis-token"

# -----------------------------------------------------------------------------
# Authentication - Clerk
# -----------------------------------------------------------------------------
# Get these from your Clerk dashboard: https://dashboard.clerk.com/
# Settings -> API Keys

# Publishable key (safe for frontend, starts with pk_)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_your-key-here"

# Secret key (backend only, starts with sk_)
CLERK_SECRET_KEY="sk_test_your-key-here"

# Clerk sign-in/sign-up URLs
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL="/"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL="/"

# -----------------------------------------------------------------------------
# AI - Anthropic Claude
# -----------------------------------------------------------------------------
# Get your API key from: https://console.anthropic.com/
# Used for: pre-reading guides, reading assistance, assessments, flashcards

ANTHROPIC_API_KEY="sk-ant-your-key-here"

# Default model for AI features (claude-3-5-sonnet-20241022 recommended)
ANTHROPIC_MODEL="claude-3-5-sonnet-20241022"

# -----------------------------------------------------------------------------
# AI - OpenAI (Optional - for TTS Pro tier)
# -----------------------------------------------------------------------------
# Get your API key from: https://platform.openai.com/api-keys
# Used for: text-to-speech (Pro tier)

OPENAI_API_KEY="sk-your-key-here"

# -----------------------------------------------------------------------------
# AI - ElevenLabs (Optional - for TTS Scholar tier)
# -----------------------------------------------------------------------------
# Get your API key from: https://elevenlabs.io/
# Used for: premium text-to-speech (Scholar tier)

ELEVENLABS_API_KEY="your-elevenlabs-key-here"

# -----------------------------------------------------------------------------
# File Storage - Cloudflare R2
# -----------------------------------------------------------------------------
# Get these from your Cloudflare dashboard: https://dash.cloudflare.com/
# R2 -> Overview -> Manage R2 API Tokens

# R2 bucket name
R2_BUCKET_NAME="read-master-storage"

# R2 account ID (found in Cloudflare dashboard URL)
R2_ACCOUNT_ID="your-account-id"

# R2 access credentials (create via R2 API Tokens)
R2_ACCESS_KEY_ID="your-access-key-id"
R2_SECRET_ACCESS_KEY="your-secret-access-key"

# R2 public bucket URL (for CDN access, optional)
R2_PUBLIC_URL="https://your-bucket.r2.dev"

# -----------------------------------------------------------------------------
# External APIs - Books & Content
# -----------------------------------------------------------------------------

# Google Books API (optional, for book search and metadata)
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_BOOKS_API_KEY="your-google-books-api-key"

# -----------------------------------------------------------------------------
# Logging & Monitoring (Optional)
# -----------------------------------------------------------------------------

# Log level: debug | info | warn | error
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# Get from: https://sentry.io/
SENTRY_DSN=""

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# AI requests per user per day (default: 100 for free tier)
AI_RATE_LIMIT_FREE=100
AI_RATE_LIMIT_PRO=500
AI_RATE_LIMIT_SCHOLAR=2000

# File upload max size in bytes (default: 50MB)
MAX_UPLOAD_SIZE=52428800

# -----------------------------------------------------------------------------
# Feature Flags (Optional)
# -----------------------------------------------------------------------------

# Enable/disable AI features globally
ENABLE_AI_FEATURES=true

# Enable/disable TTS features
ENABLE_TTS=true

# Enable beta features
ENABLE_BETA_FEATURES=false
