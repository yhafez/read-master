{
  "project": {
    "name": "Read Master",
    "description": "AI-powered reading comprehension platform",
    "quality_standard": "Production code. Must be maintainable, testable, and follow best practices. This codebase will outlive you - fight entropy, leave it better than you found it.",
    "completion_criteria": "All active sprint tasks (defer_to_next_sprint: false) have passes: true, all tests pass, TypeScript has no errors, linting passes"
  },
  "feedback_loops": {
    "required": ["typecheck", "lint", "test"],
    "commands": {
      "typecheck": "pnpm typecheck",
      "lint": "pnpm lint",
      "test": "pnpm vitest run"
    },
    "enforcement": "Do NOT commit if any feedback loop fails. Fix issues first."
  },
  "sprint_info": {
    "description": "All tasks active. Complete Read Master MVP to production.",
    "current_sprint_focus": "Full stack completion - API, Frontend, PWA, Testing, Deployment",
    "completed_count": 99,
    "total_tasks": 193,
    "active_tasks": 193,
    "new_tasks_added": 135
  },
  "tasks": [
    {
      "id": "api-books-007",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "critical",
      "description": "Implement POST /api/books/upload endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/upload.ts",
        "Accept file upload (multipart/form-data)",
        "Validate file type and size (max 50MB)",
        "Check tier limits (free: 3 books)",
        "Parse file based on type",
        "Upload to R2",
        "Create Book record in database",
        "Return book data",
        "Handle errors",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Endpoint accepts file uploads",
        "File size limit is enforced",
        "Tier limits are checked",
        "Files are parsed correctly",
        "Books are stored in R2 and DB",
        "Tests verify all scenarios"
      ],
      "passes": true
    },
    {
      "id": "api-books-008",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement POST /api/books/import-url endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/import-url.ts",
        "Validate URL format",
        "Fetch content from URL",
        "Extract text (handle HTML, articles)",
        "Check tier limits",
        "Create Book record",
        "Store content for personal use",
        "Return book data",
        "Write tests"
      ],
      "acceptance_criteria": [
        "URL import works",
        "HTML/article extraction works",
        "Tier limits are enforced",
        "Content is stored correctly",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-books-009",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement POST /api/books/paste endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/paste.ts",
        "Accept text and metadata in body",
        "Validate with Zod schema",
        "Check tier limits",
        "Calculate word count",
        "Create Book record",
        "Return book data",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Can create book from pasted text",
        "Validation works",
        "Tier limits are enforced",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-books-010",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement GET /api/books/search endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/search.ts",
        "Accept search query",
        "Search Google Books API",
        "Search Open Library API",
        "Combine and deduplicate results",
        "Cache results in Redis",
        "Return normalized results",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Searches both APIs",
        "Results are combined and deduplicated",
        "Caching works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-books-011",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement POST /api/books/add-from-library endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/add-from-library.ts",
        "Accept book ID and source (Google Books or Open Library)",
        "Fetch book metadata",
        "Fetch content if available (public domain)",
        "Check tier limits",
        "Create Book record",
        "Store content if available",
        "Return book data",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Can add books from external libraries",
        "Metadata is fetched correctly",
        "Public domain content is stored",
        "Tier limits are enforced",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-books-012",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "critical",
      "description": "Implement GET /api/books endpoint with filtering and pagination",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/index.ts for GET",
        "Accept query params: status, tags, genre, search, sort, page, limit",
        "Build Prisma query with filters",
        "Apply soft delete filter",
        "Implement sorting options",
        "Use pagination utilities",
        "Return paginated results",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Listing works with all filters",
        "Pagination works correctly",
        "Soft deletes are excluded",
        "Sorting works",
        "Tests verify all scenarios"
      ],
      "passes": true
    },
    {
      "id": "api-books-013",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement GET /api/books/:id endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/[id].ts for GET",
        "Fetch book with chapters",
        "Include reading progress for current user",
        "Check user has access to book",
        "Return 404 if not found or no access",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Book details are returned with chapters",
        "Reading progress is included",
        "Access control works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-books-014",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement PUT /api/books/:id endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/[id].ts for PUT",
        "Validate update data with Zod",
        "Check user owns the book",
        "Update book metadata",
        "Handle status changes",
        "Log audit trail",
        "Return updated book",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Book updates work",
        "Validation is enforced",
        "Only owner can update",
        "Audit log is created",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-books-015",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement DELETE /api/books/:id endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/[id].ts for DELETE",
        "Check user owns the book",
        "Soft delete book (set deletedAt)",
        "Soft delete related annotations, flashcards",
        "Log audit trail",
        "Return success response",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Soft delete works",
        "Related data is soft deleted",
        "Only owner can delete",
        "Audit log is created",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-books-016",
      "category": "api-books",
      "phase": "4b-books-api",
      "priority": "medium",
      "description": "Implement GET /api/books/:id/content endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/books/[id]/content.ts",
        "Check user has access to book",
        "Fetch content from R2 or database",
        "Support range requests for large files",
        "Stream content to client",
        "Set appropriate headers",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Content is streamed correctly",
        "Range requests work",
        "Access control is enforced",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-reading-001",
      "category": "api-reading",
      "phase": "4b-books-api",
      "priority": "critical",
      "description": "Implement reading progress tracking endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/reading/progress.ts for GET and PUT",
        "GET: Fetch reading progress for a book",
        "PUT: Update reading position, calculate percentage",
        "Track total read time",
        "Update lastReadAt timestamp",
        "Handle completion (set completedAt)",
        "Award XP on completion",
        "Check for achievements",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Progress tracking works",
        "Percentage is calculated correctly",
        "Completion is detected",
        "XP and achievements are awarded",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-annotations-001",
      "category": "api-annotations",
      "phase": "4b-books-api",
      "priority": "high",
      "description": "Implement annotation CRUD endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/annotations/index.ts",
        "POST: Create annotation (highlight, note, bookmark)",
        "GET: List annotations for a book with filters",
        "PUT: Update annotation",
        "DELETE: Soft delete annotation",
        "Validate with Zod schemas",
        "Apply profanity filter to notes",
        "Support public/private annotations",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All annotation types work",
        "CRUD operations function correctly",
        "Profanity filter is applied",
        "Privacy settings work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-001",
      "category": "frontend-foundation",
      "phase": "5a-foundation",
      "priority": "critical",
      "description": "Set up MUI theme with multiple modes (light/dark/sepia/high-contrast)",
      "defer_to_next_sprint": false,
      "steps": [
        "Create theme configuration in apps/web/src/theme/",
        "Define color palettes for all four modes",
        "Configure typography scale",
        "Set up component overrides",
        "Create ThemeProvider wrapper",
        "Add theme toggle functionality",
        "Verify WCAG AAA contrast ratios (7:1) for high-contrast",
        "Write tests for theme switching"
      ],
      "acceptance_criteria": [
        "All four theme modes work",
        "High-contrast mode meets WCAG AAA",
        "Theme persists across sessions",
        "Tests verify theme switching"
      ],
      "passes": true
    },
    {
      "id": "frontend-002",
      "category": "frontend-foundation",
      "phase": "5a-foundation",
      "priority": "critical",
      "description": "Set up React Router with all routes and protected route handling",
      "defer_to_next_sprint": false,
      "steps": [
        "Install and configure React Router",
        "Define all routes from SPECIFICATIONS.md",
        "Create MainLayout component (sidebar, header)",
        "Create ReaderLayout component (minimal UI)",
        "Set up protected route wrapper",
        "Add 404 page",
        "Test navigation between routes",
        "Write tests for routing"
      ],
      "acceptance_criteria": [
        "All routes from spec are defined",
        "Layouts render correctly",
        "Protected routes work",
        "Navigation works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-003",
      "category": "frontend-foundation",
      "phase": "5a-foundation",
      "priority": "critical",
      "description": "Integrate Clerk authentication with sign-in/sign-up UI",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up ClerkProvider in main App",
        "Create sign-in page",
        "Create sign-up page",
        "Configure OAuth (Google, Apple)",
        "Add auth loading states",
        "Test full authentication flow",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Sign up/in works with email",
        "OAuth works with Google and Apple",
        "Protected routes redirect correctly",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-004",
      "category": "frontend-foundation",
      "phase": "5a-foundation",
      "priority": "high",
      "description": "Set up React Query with proper configuration",
      "defer_to_next_sprint": false,
      "steps": [
        "Configure QueryClient with defaults",
        "Set up QueryClientProvider",
        "Add React Query DevTools (dev only)",
        "Create example query hook for books",
        "Test query invalidation",
        "Write tests"
      ],
      "acceptance_criteria": [
        "React Query is configured",
        "DevTools work in development",
        "Query hooks work correctly",
        "Invalidation works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-005",
      "category": "frontend-foundation",
      "phase": "5a-foundation",
      "priority": "high",
      "description": "Create Zustand stores for UI and reader state",
      "defer_to_next_sprint": false,
      "steps": [
        "Create stores/uiStore.ts (theme, sidebar, language)",
        "Create stores/readerStore.ts (current book, position, settings)",
        "Implement persistence with localStorage",
        "Write comprehensive tests for both stores",
        "Document store usage patterns"
      ],
      "acceptance_criteria": [
        "Both stores are functional",
        "State persists across sessions",
        "Tests achieve 100% coverage",
        "Documentation is clear"
      ],
      "passes": true
    },
    {
      "id": "frontend-006",
      "category": "frontend-library",
      "phase": "5b-library",
      "priority": "high",
      "description": "Create Library page with grid/list view and filters",
      "defer_to_next_sprint": false,
      "steps": [
        "Create LibraryPage component",
        "Implement grid and list view layouts",
        "Add view toggle button",
        "Add filter sidebar (status, genre, tags)",
        "Add search bar",
        "Add sort dropdown",
        "Make fully responsive",
        "Add empty state",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Both views render correctly",
        "Filters work correctly",
        "Search works",
        "Responsive on all screen sizes",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-007",
      "category": "frontend-library",
      "phase": "5b-library",
      "priority": "high",
      "description": "Create BookCard component with progress and quick actions",
      "defer_to_next_sprint": false,
      "steps": [
        "Create BookCard component",
        "Display cover, title, author",
        "Show progress bar",
        "Add status badge",
        "Add quick actions (read, delete)",
        "Style hover/focus states",
        "Ensure keyboard accessibility",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Card displays all info correctly",
        "Progress bar shows correctly",
        "Actions work",
        "Fully keyboard accessible",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-008",
      "category": "frontend-library",
      "phase": "5b-library",
      "priority": "critical",
      "description": "Create AddBookModal with tabs for upload/URL/paste/search",
      "defer_to_next_sprint": false,
      "steps": [
        "Create AddBookModal component",
        "Implement tab navigation (4 tabs)",
        "Create upload tab with drag-and-drop",
        "Create URL import tab",
        "Create paste text tab",
        "Create search tab (Google Books + Open Library)",
        "Add validation and error handling",
        "Show loading states",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All tabs function correctly",
        "File upload works (all formats)",
        "Search returns results",
        "Error handling works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-009",
      "category": "frontend-reader",
      "phase": "5c-reader",
      "priority": "critical",
      "description": "Integrate epub.js for EPUB rendering",
      "defer_to_next_sprint": false,
      "steps": [
        "Install and configure epub.js",
        "Create EpubReader component",
        "Implement page navigation (prev/next)",
        "Handle text selection",
        "Sync reading position with backend",
        "Make responsive",
        "Handle errors gracefully",
        "Write tests"
      ],
      "acceptance_criteria": [
        "EPUB files render correctly",
        "Navigation works",
        "Position is tracked and synced",
        "Responsive layout",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-010",
      "category": "frontend-reader",
      "phase": "5c-reader",
      "priority": "critical",
      "description": "Integrate PDF.js for PDF rendering",
      "defer_to_next_sprint": false,
      "steps": [
        "Install and configure PDF.js",
        "Create PdfReader component",
        "Implement page navigation",
        "Add zoom controls",
        "Handle text selection",
        "Make responsive",
        "Handle errors gracefully",
        "Write tests"
      ],
      "acceptance_criteria": [
        "PDF files render correctly",
        "Navigation and zoom work",
        "Text selection works",
        "Responsive layout",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-ai-001",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "critical",
      "description": "Set up Vercel AI SDK with Anthropic Claude",
      "defer_to_next_sprint": false,
      "steps": [
        "Create src/services/ai.ts",
        "Configure Vercel AI SDK",
        "Set up Anthropic provider",
        "Create streamCompletion helper",
        "Implement token counting",
        "Implement cost calculation",
        "Create logging wrapper for AI calls",
        "Test streaming works"
      ],
      "acceptance_criteria": [
        "AI SDK is configured correctly",
        "Streaming works",
        "Token usage is tracked",
        "Costs are calculated",
        "All calls are logged"
      ],
      "passes": true
    },
    {
      "id": "api-ai-002",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "critical",
      "description": "Create AI prompt templates package",
      "defer_to_next_sprint": false,
      "steps": [
        "Create packages/ai/src/prompts/v1/ directory",
        "Create preReadingGuide.ts prompt template",
        "Create explain.ts prompt template",
        "Create comprehensionCheck.ts prompt template",
        "Create assessment.ts prompt template",
        "Create gradeAnswer.ts prompt template",
        "Create generateFlashcards.ts prompt template",
        "Export all prompts",
        "Include user reading level in prompts"
      ],
      "acceptance_criteria": [
        "All prompt templates exist",
        "Prompts adapt to user level",
        "Prompts can be imported in API",
        "Templates are well-structured"
      ],
      "passes": true
    },
    {
      "id": "api-ai-003",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "critical",
      "description": "Implement POST /api/ai/pre-reading-guide endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/ai/pre-reading-guide.ts",
        "Check user has AI enabled",
        "Check rate limits",
        "Fetch book content",
        "Use pre-reading guide prompt",
        "Stream AI response",
        "Parse response into structured data",
        "Save to PreReadingGuide table",
        "Log usage and cost",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Guide generates correctly",
        "Streaming works",
        "Data is saved to database",
        "Usage is logged",
        "Rate limits are enforced",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-ai-004",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "high",
      "description": "Implement POST /api/ai/explain endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/ai/explain.ts",
        "Accept selected text and book context",
        "Check rate limits and AI enabled",
        "Use explain prompt with context",
        "Stream response",
        "Log usage",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Explanations are contextual",
        "Streaming works",
        "Rate limits enforced",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-ai-005",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "high",
      "description": "Implement POST /api/ai/ask endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/ai/ask.ts",
        "Accept question and selected text",
        "Include book context",
        "Check rate limits",
        "Stream AI response",
        "Log usage",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Questions are answered correctly",
        "Context is maintained",
        "Streaming works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-ai-006",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "high",
      "description": "Implement POST /api/ai/comprehension-check endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/ai/comprehension-check.ts",
        "Accept recently read content",
        "Generate quick question",
        "Return question with options",
        "Track question in database",
        "Log usage",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Questions are relevant",
        "Format is correct",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-ai-007",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "high",
      "description": "Implement POST /api/ai/assessment endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/ai/assessment.ts",
        "Accept book ID and assessment type",
        "Generate questions covering all Bloom's levels",
        "Adapt difficulty to user level",
        "Return structured assessment",
        "Save to Assessment table",
        "Log usage",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All Bloom's levels are covered",
        "Difficulty adapts to user",
        "Questions are high quality",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-ai-008",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "high",
      "description": "Implement POST /api/ai/grade-answer endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/ai/grade-answer.ts",
        "Accept question, correct answer, user answer",
        "Use AI to grade short answer",
        "Provide detailed feedback",
        "Calculate score",
        "Update assessment record",
        "Update user comprehension data",
        "Log usage",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Grading is fair and consistent",
        "Feedback is helpful",
        "Scores are accurate",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-ai-009",
      "category": "api-ai",
      "phase": "4c-ai-api",
      "priority": "high",
      "description": "Implement POST /api/ai/generate-flashcards endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/ai/generate-flashcards.ts",
        "Accept text and card type preferences",
        "Generate flashcards for vocabulary, concepts, comprehension",
        "Check for duplicates",
        "Create Flashcard records",
        "Return generated cards",
        "Log usage",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Cards are high quality",
        "Duplicates are avoided",
        "Multiple card types work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-srs-001",
      "category": "api-srs",
      "phase": "4d-srs-api",
      "priority": "critical",
      "description": "Implement flashcard CRUD endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/flashcards/index.ts",
        "GET: List user's flashcards with filters",
        "POST: Create manual flashcard",
        "PUT: Update flashcard",
        "DELETE: Soft delete (suspend)",
        "Support filtering by book, status, tags",
        "Implement pagination",
        "Write tests"
      ],
      "acceptance_criteria": [
        "CRUD operations work",
        "Filtering works correctly",
        "Pagination works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-srs-002",
      "category": "api-srs",
      "phase": "4d-srs-api",
      "priority": "critical",
      "description": "Implement GET /api/flashcards/due endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/flashcards/due.ts",
        "Fetch cards where dueDate <= now",
        "Order by priority (overdue first, then by dueDate)",
        "Respect user's daily limit setting",
        "Return cards with context",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Due cards are returned correctly",
        "Ordering is correct",
        "Daily limit is respected",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-srs-003",
      "category": "api-srs",
      "phase": "4d-srs-api",
      "priority": "critical",
      "description": "Implement POST /api/flashcards/:id/review endpoint with SM-2",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/flashcards/[id]/review.ts",
        "Accept rating (1-4)",
        "Calculate new interval using SM-2 from shared package",
        "Update easeFactor, interval, repetitions, dueDate",
        "Update status (NEW -> LEARNING -> REVIEW)",
        "Create FlashcardReview record",
        "Award XP based on rating",
        "Check for achievements",
        "Update UserStats",
        "Write tests with all rating scenarios"
      ],
      "acceptance_criteria": [
        "SM-2 calculations are correct for all ratings",
        "Card state updates properly",
        "XP is awarded",
        "Review is logged",
        "Tests cover all scenarios"
      ],
      "passes": true
    },
    {
      "id": "api-srs-004",
      "category": "api-srs",
      "phase": "4d-srs-api",
      "priority": "medium",
      "description": "Implement GET /api/flashcards/stats endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/flashcards/stats.ts",
        "Calculate retention rate",
        "Count cards by status",
        "Get review history",
        "Calculate streak",
        "Return statistics",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All statistics are accurate",
        "Retention rate is calculated correctly",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-gamification-001",
      "category": "api-gamification",
      "phase": "4d-srs-api",
      "priority": "high",
      "description": "Implement GET /api/stats endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/stats/index.ts",
        "Fetch user's UserStats",
        "Calculate current level from XP",
        "Include progress to next level",
        "Return all gamification stats",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Stats are returned correctly",
        "Level calculation works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-gamification-002",
      "category": "api-gamification",
      "phase": "4d-srs-api",
      "priority": "high",
      "description": "Implement achievements system endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/achievements/index.ts",
        "GET: List all achievements with user's unlock status",
        "POST /check: Check and award new achievements",
        "Implement achievement criteria checking",
        "Award XP when unlocking",
        "Create UserAchievement records",
        "Return newly unlocked achievements",
        "Write tests for all achievement types"
      ],
      "acceptance_criteria": [
        "All achievements are checkable",
        "Unlocking works correctly",
        "XP is awarded",
        "Tests verify all achievement types"
      ],
      "passes": true
    },
    {
      "id": "api-gamification-003",
      "category": "api-gamification",
      "phase": "4d-srs-api",
      "priority": "medium",
      "description": "Implement GET /api/leaderboard endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/leaderboard/index.ts",
        "Support global and friends leaderboards",
        "Filter by timeframe (weekly, monthly, all-time)",
        "Sort by metric (XP, books, streak)",
        "Only include users who opted in",
        "Highlight current user",
        "Implement pagination",
        "Cache results",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Leaderboard filtering works",
        "Privacy is respected (opt-in only)",
        "Current user is highlighted",
        "Caching works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-tts-001",
      "category": "api-tts",
      "phase": "4e-tts-api",
      "priority": "high",
      "description": "Implement POST /api/tts/speak endpoint with tier-based providers",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/tts/speak.ts",
        "Check user's subscription tier",
        "Free: Return config for Web Speech API (client-side)",
        "Pro: Use OpenAI TTS API and stream audio",
        "Scholar: Use ElevenLabs API and stream audio",
        "Track usage",
        "Handle errors",
        "Write tests for all tiers"
      ],
      "acceptance_criteria": [
        "Free tier returns browser config",
        "Pro tier streams OpenAI audio",
        "Scholar tier streams ElevenLabs audio",
        "Usage is tracked",
        "Tests cover all tiers"
      ],
      "passes": true
    },
    {
      "id": "api-tts-002",
      "category": "api-tts",
      "phase": "4e-tts-api",
      "priority": "medium",
      "description": "Create TTS service for OpenAI and ElevenLabs",
      "defer_to_next_sprint": false,
      "steps": [
        "Create src/services/tts.ts",
        "Implement OpenAI TTS integration",
        "Implement ElevenLabs integration",
        "Handle text chunking for long content",
        "Stream audio responses",
        "Handle rate limits",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Both providers work correctly",
        "Long text is chunked properly",
        "Streaming works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-tts-003",
      "category": "api-tts",
      "phase": "4e-tts-api",
      "priority": "medium",
      "description": "Implement GET /api/tts/voices endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/tts/voices.ts",
        "Return available voices based on tier",
        "Free: Browser default voices",
        "Pro: OpenAI voices (alloy, echo, fable, onyx, nova, shimmer)",
        "Scholar: ElevenLabs premium voices",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Voices are returned per tier",
        "All voice options are available",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-tts-004",
      "category": "api-tts",
      "phase": "4e-tts-api",
      "priority": "medium",
      "description": "Implement full book audio download endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/tts/download.ts for POST",
        "Check download quota (Pro: 5/month, Scholar: unlimited)",
        "Create background job for generation",
        "Generate audio in chunks",
        "Combine chunks into final file",
        "Upload to R2",
        "Track download in database",
        "Return job ID",
        "Create api/tts/downloads.ts for GET (list downloads)",
        "Create api/tts/downloads/[id].ts for DELETE",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Download limits are enforced",
        "Audio generation works",
        "Files are stored in R2",
        "Status tracking works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-social-001",
      "category": "api-social",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement user profile endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/users/[username].ts",
        "GET: Fetch public profile",
        "Check privacy settings",
        "Return stats if shared",
        "Return reading activity if shared",
        "Return achievements",
        "Hide private info",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Public profiles work",
        "Privacy settings are respected",
        "Private data is hidden",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-social-002",
      "category": "api-social",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement follow/unfollow endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/users/[id]/follow.ts",
        "POST: Create follow relationship",
        "DELETE: Remove follow relationship",
        "Prevent duplicate follows",
        "Update follower counts",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Following works",
        "Unfollowing works",
        "No duplicates allowed",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-social-003",
      "category": "api-social",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement followers/following list endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/users/[id]/followers.ts",
        "Create api/users/[id]/following.ts",
        "Implement pagination",
        "Support search",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Lists work correctly",
        "Pagination works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-social-004",
      "category": "api-social",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement activity feed endpoint",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/feed.ts",
        "Fetch activity from followed users",
        "Include: reading completions, achievements, shared highlights",
        "Respect privacy settings",
        "Implement pagination",
        "Cache results",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Feed shows relevant activity",
        "Privacy is respected",
        "Pagination works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-groups-001",
      "category": "api-groups",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement reading groups CRUD endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/groups/index.ts",
        "POST: Create group (Pro/Scholar only)",
        "GET: List groups (public + user's private)",
        "Support search and filters",
        "Implement pagination",
        "Create api/groups/[id].ts for GET, PUT, DELETE",
        "Apply profanity filter to names/descriptions",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Group creation is tier-locked",
        "CRUD operations work",
        "Profanity filter is applied",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-groups-002",
      "category": "api-groups",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement group membership endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/groups/[id]/join.ts",
        "POST: Join group or accept invite",
        "Check if public or has invite",
        "Create membership record",
        "Create api/groups/[id]/leave.ts",
        "DELETE: Leave group (unless owner)",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Joining works",
        "Leaving works",
        "Owner cannot leave",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-groups-003",
      "category": "api-groups",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement group discussions endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/groups/[id]/discussions.ts",
        "POST: Create discussion thread",
        "GET: List discussions",
        "Apply profanity filter",
        "Create api/discussions/[id]/replies.ts",
        "POST: Reply to discussion",
        "Support nested replies",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Discussions work",
        "Replies work with nesting",
        "Profanity filter is applied",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-forum-001",
      "category": "api-forum",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement forum category and post listing endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/forum/categories.ts for GET",
        "Create api/forum/posts.ts for GET",
        "Support filtering by category",
        "Support sorting (recent, popular, unanswered)",
        "Implement pagination",
        "Cache results",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Categories list correctly",
        "Posts list with filters",
        "Sorting works",
        "Pagination works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-forum-002",
      "category": "api-forum",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement forum post CRUD endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/forum/posts.ts for POST",
        "Validate with Zod schema",
        "Apply profanity filter",
        "Create post record",
        "Create api/forum/posts/[id].ts for GET, PUT, DELETE",
        "Include replies in GET",
        "Increment view count",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Post creation works",
        "Profanity filter is applied",
        "CRUD operations work",
        "View counting works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-forum-003",
      "category": "api-forum",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement forum reply and voting endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/forum/posts/[id]/replies.ts for POST",
        "Support nested replies (parentReplyId)",
        "Apply profanity filter",
        "Create api/forum/posts/[id]/vote.ts",
        "Create api/forum/replies/[id]/vote.ts",
        "Handle upvote/downvote",
        "Prevent duplicate votes",
        "Update vote counts",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Replies work with nesting",
        "Voting works for posts and replies",
        "No duplicate votes",
        "Counts update correctly",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-forum-004",
      "category": "api-forum",
      "phase": "4f-social-api",
      "priority": "medium",
      "description": "Implement forum moderation endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/forum/replies/[id]/best-answer.ts",
        "Allow OP to mark best answer",
        "Create api/forum/report.ts",
        "Handle content reports",
        "Queue for moderator review",
        "Create moderator endpoints for review",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Best answer marking works",
        "Reporting works",
        "Moderation queue works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-curriculum-001",
      "category": "api-curriculums",
      "phase": "4g-curriculum-api",
      "priority": "medium",
      "description": "Implement curriculum CRUD endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/curriculums/index.ts",
        "POST: Create curriculum (Pro/Scholar only)",
        "GET: List user's curriculums",
        "Apply profanity filter to title/description",
        "Create api/curriculums/[id].ts for GET, PUT, DELETE",
        "Include items in GET",
        "Include follow status",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Creation is tier-locked",
        "CRUD operations work",
        "Profanity filter is applied",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-curriculum-002",
      "category": "api-curriculums",
      "phase": "4g-curriculum-api",
      "priority": "medium",
      "description": "Implement curriculum browse and search endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/curriculums/browse.ts",
        "Support filtering by category, difficulty",
        "Support sorting (popularity, recent, rating)",
        "Implement search",
        "Implement pagination",
        "Only show public curriculums",
        "Cache results",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Browsing works with filters",
        "Search works",
        "Sorting works",
        "Only public curriculums shown",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-curriculum-003",
      "category": "api-curriculums",
      "phase": "4g-curriculum-api",
      "priority": "medium",
      "description": "Implement curriculum items endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/curriculums/[id]/items.ts",
        "POST: Add item to curriculum",
        "Support reordering items",
        "Create api/curriculums/[id]/items/[itemId].ts",
        "PUT: Update item",
        "DELETE: Remove item",
        "Maintain order integrity",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Items can be added",
        "Reordering works",
        "CRUD operations work",
        "Order is maintained",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-curriculum-004",
      "category": "api-curriculums",
      "phase": "4g-curriculum-api",
      "priority": "medium",
      "description": "Implement curriculum follow/progress endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/curriculums/[id]/follow.ts",
        "POST: Follow curriculum",
        "DELETE: Unfollow",
        "Create api/curriculums/[id]/progress.ts",
        "PUT: Update progress through curriculum",
        "Track currentItemIndex",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Following works",
        "Progress tracking works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "api-cron-001",
      "category": "api-cron",
      "phase": "4g-curriculum-api",
      "priority": "low",
      "description": "Implement cron job endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/cron/srs-reminders.ts",
        "Send email reminders for due flashcards",
        "Create api/cron/streak-check.ts",
        "Check and update streaks daily",
        "Award streak achievements",
        "Create api/cron/cleanup-expired.ts",
        "Clean up expired downloads",
        "Clean up old audit logs",
        "Verify cron jobs are configured in vercel.json",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All cron jobs are implemented",
        "Jobs run on schedule",
        "Tests verify job logic"
      ],
      "passes": true
    },
    {
      "id": "frontend-011",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "high",
      "description": "Text reader for DOC/DOCX/pasted content",
      "defer_to_next_sprint": false,
      "steps": [
        "Create TextReader",
        "Handle all text types",
        "Add highlighting",
        "Sync position",
        "Tests"
      ],
      "acceptance_criteria": [
        "Renders correctly",
        "Highlighting works",
        "Position syncs",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-012",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "critical",
      "description": "Typography controls (font, size, spacing)",
      "defer_to_next_sprint": false,
      "steps": [
        "Create settings panel",
        "Font selector+OpenDyslexic",
        "Size/height/spacing sliders",
        "Persist",
        "Tests"
      ],
      "acceptance_criteria": [
        "All controls work",
        "Settings persist",
        "Applied to all readers",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-013",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "high",
      "description": "Progress tracking UI (%, time, speed)",
      "defer_to_next_sprint": false,
      "steps": [
        "Progress component",
        "Position/percentage",
        "Time remaining",
        "WPM calculation",
        "Sync",
        "Tests"
      ],
      "acceptance_criteria": [
        "Progress accurate",
        "Time calculated",
        "Speed tracked",
        "Syncs",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-014",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "high",
      "description": "Annotation UI (highlights, notes, bookmarks)",
      "defer_to_next_sprint": false,
      "steps": [
        "Toolbar",
        "Selection handling",
        "Color picker",
        "Note editor",
        "Bookmarks",
        "Sidebar",
        "Tests"
      ],
      "acceptance_criteria": [
        "Highlighting works",
        "Notes work",
        "Bookmarks work",
        "CRUD works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-015",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "medium",
      "description": "Annotation export (MD, PDF)",
      "defer_to_next_sprint": false,
      "steps": [
        "Export dialog",
        "Generate MD",
        "Generate PDF with jsPDF",
        "Context",
        "Filter",
        "Tests"
      ],
      "acceptance_criteria": [
        "MD export works",
        "PDF export works",
        "Context included",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-016",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "medium",
      "description": "Dictionary & Wikipedia lookup",
      "defer_to_next_sprint": false,
      "steps": [
        "Dictionary component",
        "Free dict API",
        "Wikipedia lookup",
        "Popover",
        "Cache",
        "Tests"
      ],
      "acceptance_criteria": [
        "Dictionary works",
        "Wikipedia works",
        "Popover displays",
        "Cache works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-017",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "medium",
      "description": "Translation feature",
      "defer_to_next_sprint": false,
      "steps": [
        "Translate popover",
        "Google Translate API",
        "Language selector",
        "Cache",
        "Persist",
        "Tests"
      ],
      "acceptance_criteria": [
        "Translation works",
        "Configurable language",
        "Cached",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-018",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "low",
      "description": "Advanced reading (speed/focus/bionic)",
      "defer_to_next_sprint": false,
      "steps": [
        "Speed reading RSVP",
        "WPM slider",
        "Focus mode",
        "Bionic reading",
        "Toggles",
        "Tests"
      ],
      "acceptance_criteria": [
        "Speed mode works",
        "Focus works",
        "Bionic works",
        "Toggleable",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-019",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "medium",
      "description": "Keyboard shortcuts & gestures",
      "defer_to_next_sprint": false,
      "steps": [
        "Define mappings",
        "Navigation shortcuts",
        "Annotation shortcuts",
        "Mobile gestures",
        "Help dialog",
        "Tests"
      ],
      "acceptance_criteria": [
        "Shortcuts work",
        "Gestures work",
        "Help shows all",
        "Configurable",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-020",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "medium",
      "description": "Split-screen notes panel",
      "defer_to_next_sprint": false,
      "steps": [
        "Notes panel",
        "Split layout",
        "Edit in panel",
        "Search",
        "Filters",
        "Resizable",
        "Tests"
      ],
      "acceptance_criteria": [
        "Layout works",
        "Editing works",
        "Search works",
        "Filters work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-021",
      "category": "frontend-reader",
      "phase": "5c",
      "priority": "low",
      "description": "Two-page spread view (desktop)",
      "defer_to_next_sprint": false,
      "steps": [
        "Two-page component",
        "Width detection",
        "Side-by-side rendering",
        "Page turns",
        "Toggle",
        "Tests"
      ],
      "acceptance_criteria": [
        "Works on desktop",
        "Navigation correct",
        "Toggle works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-022",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "critical",
      "description": "Pre-reading guide UI",
      "defer_to_next_sprint": false,
      "steps": [
        "Guide component",
        "Generate button",
        "Streaming",
        "Display sections",
        "Collapsible",
        "Regenerate",
        "Cache",
        "Tests"
      ],
      "acceptance_criteria": [
        "Generation works",
        "Streaming displays",
        "Sections show",
        "Regeneration works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-023",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "critical",
      "description": "'Explain this' in reader",
      "defer_to_next_sprint": false,
      "steps": [
        "Explain button",
        "Popover",
        "Send to API",
        "Stream response",
        "Follow-up",
        "Cache",
        "Tests"
      ],
      "acceptance_criteria": [
        "Button appears",
        "Streams correctly",
        "Follow-ups work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-024",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "high",
      "description": "AI chat sidebar",
      "defer_to_next_sprint": false,
      "steps": [
        "Chat sidebar",
        "Toggle",
        "History",
        "Send messages",
        "Stream",
        "Context",
        "Persist",
        "Tests"
      ],
      "acceptance_criteria": [
        "Sidebar works",
        "Messages send",
        "Responses stream",
        "Context included",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-025",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "high",
      "description": "Comprehension check-ins",
      "defer_to_next_sprint": false,
      "steps": [
        "Check dialog",
        "Trigger on progress",
        "Fetch question",
        "Display options",
        "Submit",
        "Feedback",
        "Tests"
      ],
      "acceptance_criteria": [
        "Triggers correctly",
        "Questions display",
        "Feedback shown",
        "Can disable",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-026",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "high",
      "description": "Assessment generation & taking",
      "defer_to_next_sprint": false,
      "steps": [
        "Assessment page",
        "Generate button",
        "Display questions",
        "Timer",
        "Submit",
        "Grade",
        "Results",
        "Tests"
      ],
      "acceptance_criteria": [
        "Generation works",
        "Types display",
        "Grading works",
        "Results shown",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-027",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "medium",
      "description": "Assessment history & results",
      "defer_to_next_sprint": false,
      "steps": [
        "History component",
        "List assessments",
        "Scores",
        "Bloom's breakdown",
        "View details",
        "Retake",
        "Tests"
      ],
      "acceptance_criteria": [
        "History displays",
        "Detailed results viewable",
        "Progress shown",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-028",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "high",
      "description": "AI flashcard generation",
      "defer_to_next_sprint": false,
      "steps": [
        "Generate button",
        "Dialog",
        "Type selector",
        "Send to API",
        "Preview",
        "Edit",
        "Save",
        "Tests"
      ],
      "acceptance_criteria": [
        "Generation works",
        "Types selectable",
        "Preview works",
        "Saves correctly",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-029",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "medium",
      "description": "AI settings page",
      "defer_to_next_sprint": false,
      "steps": [
        "Settings page",
        "Global toggle",
        "Feature toggles",
        "Frequency control",
        "Usage stats",
        "Level pref",
        "Tests"
      ],
      "acceptance_criteria": [
        "Settings configurable",
        "Global toggle works",
        "Stats display",
        "Persists",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-030",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "low",
      "description": "AI usage dashboard",
      "defer_to_next_sprint": false,
      "steps": [
        "Dashboard",
        "Fetch usage",
        "Tokens per feature",
        "Costs",
        "Charts",
        "Limits",
        "Export CSV",
        "Tests"
      ],
      "acceptance_criteria": [
        "Usage displays",
        "Charts show trends",
        "Limits visible",
        "Export works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-031",
      "category": "frontend-ai",
      "phase": "5d",
      "priority": "low",
      "description": "AI loading & error handling",
      "defer_to_next_sprint": false,
      "steps": [
        "Loading spinner",
        "Skeleton screens",
        "Progress indicators",
        "Error boundary",
        "Rate limits",
        "Retry",
        "Tests"
      ],
      "acceptance_criteria": [
        "Loading clear",
        "Errors handled",
        "Retry works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-032",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "critical",
      "description": "Flashcard deck list",
      "defer_to_next_sprint": false,
      "steps": [
        "Decks page",
        "Display grouped by book",
        "Card counts",
        "Due counts",
        "Filters",
        "Search",
        "Study button",
        "Tests"
      ],
      "acceptance_criteria": [
        "Decks display",
        "Counts accurate",
        "Filters work",
        "Navigation works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-033",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "critical",
      "description": "Flashcard study interface with SM-2",
      "defer_to_next_sprint": false,
      "steps": [
        "Study page",
        "Fetch due cards",
        "Display front",
        "Show answer",
        "4 ratings",
        "Submit",
        "Progress",
        "Tests"
      ],
      "acceptance_criteria": [
        "Flow works",
        "All ratings work",
        "Progress tracked",
        "Completion shown",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-034",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "high",
      "description": "Manual flashcard creation",
      "defer_to_next_sprint": false,
      "steps": [
        "Create dialog",
        "Front/back fields",
        "Type selector",
        "Tags",
        "Link book",
        "Validate",
        "Submit",
        "Tests"
      ],
      "acceptance_criteria": [
        "Form validates",
        "Creation works",
        "All fields saved",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-035",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "high",
      "description": "Flashcard editing",
      "defer_to_next_sprint": false,
      "steps": [
        "Edit dialog",
        "Load data",
        "Edit fields",
        "Validate",
        "Submit",
        "Success message",
        "Tests"
      ],
      "acceptance_criteria": [
        "Can edit all fields",
        "Validation works",
        "Updates save",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-036",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "medium",
      "description": "Flashcard browse/search",
      "defer_to_next_sprint": false,
      "steps": [
        "Browse page",
        "List with pagination",
        "Search",
        "Filters",
        "Sort",
        "Bulk actions",
        "Details",
        "Tests"
      ],
      "acceptance_criteria": [
        "Browse lists all",
        "Search works",
        "Filters work",
        "Bulk actions work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-037",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "high",
      "description": "Flashcard statistics",
      "defer_to_next_sprint": false,
      "steps": [
        "Stats dashboard",
        "Fetch stats",
        "Retention rate",
        "By status",
        "History chart",
        "Streak",
        "Due cards",
        "Tests"
      ],
      "acceptance_criteria": [
        "All stats display",
        "Charts render",
        "Updates realtime",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-038",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "medium",
      "description": "SRS settings",
      "defer_to_next_sprint": false,
      "steps": [
        "Settings page",
        "Daily limit",
        "New cards limit",
        "Notifications",
        "Reminder time",
        "Auto-play",
        "Tests"
      ],
      "acceptance_criteria": [
        "Settings configurable",
        "Persist",
        "Limits enforced",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-039",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "low",
      "description": "Flashcard keyboard shortcuts",
      "defer_to_next_sprint": false,
      "steps": [
        "Add shortcuts",
        "Space=show",
        "1/2/3/4=rate",
        "U=undo",
        "S=suspend",
        "E=edit",
        "Help dialog",
        "Tests"
      ],
      "acceptance_criteria": [
        "All shortcuts work",
        "Help shows shortcuts",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-040",
      "category": "frontend-srs",
      "phase": "5e",
      "priority": "medium",
      "description": "Flashcard import/export",
      "defer_to_next_sprint": false,
      "steps": [
        "Import dialog",
        "CSV support",
        "Parse/validate",
        "Preview",
        "Create bulk",
        "Export dialog",
        "Tests"
      ],
      "acceptance_criteria": [
        "CSV import works",
        "CSV export works",
        "Validation works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-041",
      "category": "frontend-tts",
      "phase": "5f",
      "priority": "high",
      "description": "TTS controls in reader",
      "defer_to_next_sprint": false,
      "steps": [
        "TTS controls",
        "Toggle",
        "Play/pause",
        "Voice selector",
        "Fetch voices",
        "Web Speech fallback",
        "Highlight text",
        "Speed",
        "Tests"
      ],
      "acceptance_criteria": [
        "Works all tiers",
        "Voice selection works",
        "Highlighting works",
        "Persists",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-042",
      "category": "frontend-tts",
      "phase": "5f",
      "priority": "medium",
      "description": "Full book audio download",
      "defer_to_next_sprint": false,
      "steps": [
        "Download dialog",
        "Show quota",
        "Est time",
        "Voice selector",
        "Submit",
        "Progress",
        "Download",
        "List",
        "Tests"
      ],
      "acceptance_criteria": [
        "Request works",
        "Progress shown",
        "Can download",
        "Quota enforced",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-043",
      "category": "frontend-tts",
      "phase": "5f",
      "priority": "medium",
      "description": "TTS settings",
      "defer_to_next_sprint": false,
      "steps": [
        "Settings page",
        "Tier features",
        "Default voice",
        "Default speed",
        "Auto-play",
        "Highlight color",
        "Quota",
        "Tests"
      ],
      "acceptance_criteria": [
        "Settings configurable",
        "Tier clear",
        "Persists",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-044",
      "category": "frontend-tts",
      "phase": "5f",
      "priority": "low",
      "description": "TTS error handling",
      "defer_to_next_sprint": false,
      "steps": [
        "Handle API failures",
        "Fallback to browser",
        "Error messages",
        "Retry",
        "Unsupported browsers",
        "Compatibility",
        "Tests"
      ],
      "acceptance_criteria": [
        "Errors handled",
        "Fallback works",
        "Users informed",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-045",
      "category": "frontend-library",
      "phase": "5b",
      "priority": "critical",
      "description": "Advanced book search with filters",
      "defer_to_next_sprint": false,
      "steps": [
        "Search dialog",
        "Full-text search",
        "Filter by status",
        "By genre",
        "By tags",
        "By progress",
        "By dates",
        "By type",
        "Combine filters",
        "Result count",
        "Tests"
      ],
      "acceptance_criteria": [
        "Full-text works",
        "All filters work",
        "Filters combine",
        "Results update",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-046",
      "category": "frontend-library",
      "phase": "5b",
      "priority": "high",
      "description": "Library sort options",
      "defer_to_next_sprint": false,
      "steps": [
        "Sort dropdown",
        "By title",
        "By author",
        "By date added",
        "By last read",
        "By progress",
        "By rating",
        "Persist",
        "Tests"
      ],
      "acceptance_criteria": ["All sorts work", "Persists", "Tests pass"],
      "passes": true
    },
    {
      "id": "frontend-047",
      "category": "frontend-library",
      "phase": "5b",
      "priority": "high",
      "description": "Collections/folders system",
      "defer_to_next_sprint": false,
      "steps": [
        "Collections page",
        "Create button",
        "Create/edit dialog",
        "Nested collections",
        "Drag/drop",
        "View books",
        "Remove",
        "Rename/delete",
        "Tests"
      ],
      "acceptance_criteria": [
        "Can create",
        "Add/remove works",
        "Nesting works",
        "Drag/drop works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-048",
      "category": "frontend-library",
      "phase": "5b",
      "priority": "high",
      "description": "Custom shelves",
      "defer_to_next_sprint": false,
      "steps": [
        "Shelves page",
        "Create shelf",
        "Multiple shelves",
        "Add to multiple",
        "Show by shelf",
        "Reorder",
        "Delete",
        "Tests"
      ],
      "acceptance_criteria": [
        "Shelves created",
        "Multiple shelves work",
        "Reordering works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-049",
      "category": "frontend-library",
      "phase": "5b",
      "priority": "medium",
      "description": "Reading lists",
      "defer_to_next_sprint": false,
      "steps": [
        "Lists page",
        "Create list",
        "Ordered lists",
        "Add books",
        "Reorder",
        "Progress",
        "Share",
        "Tests"
      ],
      "acceptance_criteria": [
        "Lists created",
        "Reordering works",
        "Sharing works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-050",
      "category": "frontend-library",
      "phase": "5b",
      "priority": "medium",
      "description": "Bulk actions for books",
      "defer_to_next_sprint": false,
      "steps": [
        "Checkbox mode",
        "Multi-select",
        "Bulk to collection",
        "Bulk to shelf",
        "Bulk status",
        "Bulk tags",
        "Bulk delete",
        "Confirmations",
        "Tests"
      ],
      "acceptance_criteria": [
        "Multi-select works",
        "All bulk actions work",
        "Confirmations shown",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-051",
      "category": "frontend-stats",
      "phase": "5g",
      "priority": "high",
      "description": "User stats dashboard",
      "defer_to_next_sprint": false,
      "steps": [
        "Stats dashboard",
        "Fetch stats",
        "XP/level display",
        "Progress to next level",
        "Books read",
        "Reading time",
        "Streak",
        "Charts",
        "Tests"
      ],
      "acceptance_criteria": [
        "Stats display",
        "Level calculated",
        "Charts render",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-052",
      "category": "frontend-stats",
      "phase": "5g",
      "priority": "high",
      "description": "Achievements display",
      "defer_to_next_sprint": false,
      "steps": [
        "Achievements page",
        "List all",
        "Show unlock status",
        "Show criteria",
        "Progress bars",
        "Unlock animations",
        "Filter locked/unlocked",
        "Tests"
      ],
      "acceptance_criteria": [
        "All achievements shown",
        "Status correct",
        "Progress shown",
        "Animations work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-053",
      "category": "frontend-stats",
      "phase": "5g",
      "priority": "medium",
      "description": "Achievement unlock notifications",
      "defer_to_next_sprint": false,
      "steps": [
        "Achievement toast",
        "Show on unlock",
        "Animation",
        "Sound effect",
        "Link to achievements page",
        "Dismiss",
        "Tests"
      ],
      "acceptance_criteria": [
        "Toasts show on unlock",
        "Animations work",
        "Links work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-054",
      "category": "frontend-stats",
      "phase": "5g",
      "priority": "medium",
      "description": "Leaderboard page",
      "defer_to_next_sprint": false,
      "steps": [
        "Leaderboard page",
        "Global/friends toggle",
        "Timeframe selector",
        "Metric selector",
        "Display rankings",
        "Highlight user",
        "Pagination",
        "Tests"
      ],
      "acceptance_criteria": [
        "Global works",
        "Friends works",
        "Timeframes work",
        "User highlighted",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-055",
      "category": "frontend-stats",
      "phase": "5g",
      "priority": "low",
      "description": "Reading analytics dashboard",
      "defer_to_next_sprint": false,
      "steps": [
        "Analytics page",
        "Books over time chart",
        "Reading time chart",
        "Genres breakdown",
        "Authors read",
        "Avg book length",
        "Completion rate",
        "Tests"
      ],
      "acceptance_criteria": [
        "All analytics display",
        "Charts render",
        "Accurate data",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-056",
      "category": "frontend-stats",
      "phase": "5g",
      "priority": "low",
      "description": "Export reading data",
      "defer_to_next_sprint": false,
      "steps": [
        "Export dialog",
        "Select data types",
        "Format selector (CSV/JSON)",
        "Date range",
        "Generate",
        "Download",
        "Tests"
      ],
      "acceptance_criteria": [
        "Export generates",
        "All formats work",
        "Date range works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-057",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "medium",
      "description": "User profile page",
      "defer_to_next_sprint": false,
      "steps": [
        "Profile page",
        "Display username/avatar",
        "Show stats (if public)",
        "Show achievements",
        "Show reading activity",
        "Show followers/following",
        "Edit profile button",
        "Tests"
      ],
      "acceptance_criteria": [
        "Profile displays",
        "Privacy respected",
        "Editable",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-058",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "medium",
      "description": "Edit profile page",
      "defer_to_next_sprint": false,
      "steps": [
        "Edit page",
        "Avatar upload",
        "Bio editor",
        "Privacy settings",
        "Social links",
        "Save changes",
        "Tests"
      ],
      "acceptance_criteria": [
        "All fields editable",
        "Avatar upload works",
        "Privacy saves",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-059",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "medium",
      "description": "Follow/unfollow functionality",
      "defer_to_next_sprint": false,
      "steps": [
        "Follow button on profiles",
        "Handle follow/unfollow",
        "Update counts",
        "Show following status",
        "Tests"
      ],
      "acceptance_criteria": [
        "Follow works",
        "Unfollow works",
        "Counts update",
        "Status correct",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-060",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "medium",
      "description": "Followers/following lists",
      "defer_to_next_sprint": false,
      "steps": [
        "Lists page",
        "Display followers",
        "Display following",
        "Pagination",
        "Search",
        "Unfollow from list",
        "Tests"
      ],
      "acceptance_criteria": [
        "Lists display",
        "Search works",
        "Unfollow works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-061",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "medium",
      "description": "Activity feed",
      "defer_to_next_sprint": false,
      "steps": [
        "Feed page",
        "Fetch from API",
        "Display activities (completions, achievements, highlights)",
        "Pagination",
        "Filters",
        "Refresh",
        "Tests"
      ],
      "acceptance_criteria": [
        "Feed displays",
        "Activities shown",
        "Pagination works",
        "Filters work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-062",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "low",
      "description": "Share highlights feature",
      "defer_to_next_sprint": false,
      "steps": [
        "Share button on highlights",
        "Privacy selector (public/friends/private)",
        "Share confirmation",
        "Show shared highlights in feed",
        "Tests"
      ],
      "acceptance_criteria": [
        "Sharing works",
        "Privacy respected",
        "Shows in feed",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-063",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "low",
      "description": "User search",
      "defer_to_next_sprint": false,
      "steps": [
        "Search page",
        "Search by username",
        "Search by name",
        "Display results",
        "View profile link",
        "Follow from results",
        "Tests"
      ],
      "acceptance_criteria": [
        "Search works",
        "Results display",
        "Actions work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-064",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "low",
      "description": "Notifications page",
      "defer_to_next_sprint": false,
      "steps": [
        "Notifications page",
        "List notifications (follows, achievements, mentions)",
        "Mark as read",
        "Delete",
        "Real-time updates",
        "Badge count",
        "Tests"
      ],
      "acceptance_criteria": [
        "Notifications list",
        "Mark read works",
        "Real-time works",
        "Badge shows",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-065",
      "category": "frontend-social",
      "phase": "5h",
      "priority": "low",
      "description": "Block/report users",
      "defer_to_next_sprint": false,
      "steps": [
        "Block button",
        "Block confirmation",
        "Report dialog",
        "Report reasons",
        "Submit report",
        "Blocked users list",
        "Unblock",
        "Tests"
      ],
      "acceptance_criteria": [
        "Blocking works",
        "Reporting works",
        "List shows blocked",
        "Unblock works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-066",
      "category": "frontend-groups",
      "phase": "5i",
      "priority": "medium",
      "description": "Reading groups list page",
      "defer_to_next_sprint": false,
      "steps": [
        "Groups page",
        "Display all groups (public + user's)",
        "Show member counts",
        "Show activity",
        "Search",
        "Filters (public/private)",
        "Create button",
        "Tests"
      ],
      "acceptance_criteria": [
        "Groups list",
        "Search works",
        "Filters work",
        "Navigation works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-067",
      "category": "frontend-groups",
      "phase": "5i",
      "priority": "medium",
      "description": "Create/edit reading group",
      "defer_to_next_sprint": false,
      "steps": [
        "Create/edit dialog",
        "Name/description fields",
        "Privacy selector",
        "Book selection",
        "Cover image upload",
        "Save",
        "Tests"
      ],
      "acceptance_criteria": [
        "Creation works",
        "Editing works",
        "All fields save",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-068",
      "category": "frontend-groups",
      "phase": "5i",
      "priority": "medium",
      "description": "Reading group details page",
      "defer_to_next_sprint": false,
      "steps": [
        "Group page",
        "Display info",
        "Member list",
        "Current book",
        "Discussions list",
        "Join/leave button",
        "Invite button (if owner)",
        "Tests"
      ],
      "acceptance_criteria": [
        "Info displays",
        "Members shown",
        "Discussions shown",
        "Actions work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-069",
      "category": "frontend-groups",
      "phase": "5i",
      "priority": "medium",
      "description": "Group discussions",
      "defer_to_next_sprint": false,
      "steps": [
        "Discussions section",
        "Create discussion",
        "List discussions",
        "View discussion with replies",
        "Reply to discussion",
        "Nested replies",
        "Edit/delete own",
        "Tests"
      ],
      "acceptance_criteria": [
        "Create works",
        "List displays",
        "Replies work",
        "Nesting works",
        "Edit/delete work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-070",
      "category": "frontend-groups",
      "phase": "5i",
      "priority": "low",
      "description": "Group invitations",
      "defer_to_next_sprint": false,
      "steps": [
        "Invite dialog",
        "Search users",
        "Send invites",
        "Pending invites list",
        "Accept/decline invitations",
        "Tests"
      ],
      "acceptance_criteria": [
        "Sending works",
        "Receiving works",
        "Accept/decline work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-071",
      "category": "frontend-groups",
      "phase": "5i",
      "priority": "low",
      "description": "Group member management (owner)",
      "defer_to_next_sprint": false,
      "steps": [
        "Members page for owners",
        "List members with roles",
        "Promote to moderator",
        "Remove members",
        "Transfer ownership",
        "Tests"
      ],
      "acceptance_criteria": [
        "List shows roles",
        "Promotion works",
        "Removal works",
        "Transfer works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-072",
      "category": "frontend-groups",
      "phase": "5i",
      "priority": "low",
      "description": "Group reading schedule",
      "defer_to_next_sprint": false,
      "steps": [
        "Schedule component",
        "Set reading pace",
        "Milestones (chapters/pages per week)",
        "Progress tracking",
        "Reminders",
        "Tests"
      ],
      "acceptance_criteria": [
        "Schedule creation works",
        "Tracking works",
        "Reminders work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-073",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "medium",
      "description": "Forum home page",
      "defer_to_next_sprint": false,
      "steps": [
        "Forum page",
        "List categories",
        "Show post counts",
        "Show recent activity",
        "Popular posts section",
        "Search bar",
        "Tests"
      ],
      "acceptance_criteria": [
        "Categories list",
        "Counts correct",
        "Activity shown",
        "Search works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-074",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "medium",
      "description": "Forum category view",
      "defer_to_next_sprint": false,
      "steps": [
        "Category page",
        "List posts in category",
        "Sort options (recent, popular, unanswered)",
        "Filters",
        "Pagination",
        "Create post button",
        "Tests"
      ],
      "acceptance_criteria": [
        "Posts list",
        "Sorting works",
        "Filters work",
        "Pagination works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-075",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "high",
      "description": "Create/edit forum post",
      "defer_to_next_sprint": false,
      "steps": [
        "Create/edit page",
        "Title/content fields",
        "Category selector",
        "Tags input",
        "Rich text editor",
        "Preview",
        "Submit",
        "Tests"
      ],
      "acceptance_criteria": [
        "Creation works",
        "Editing works",
        "Rich text works",
        "Preview works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-076",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "high",
      "description": "Forum post detail view",
      "defer_to_next_sprint": false,
      "steps": [
        "Post page",
        "Display post with formatting",
        "Author info",
        "Timestamp",
        "View count",
        "Vote buttons",
        "Reply button",
        "Replies list",
        "Tests"
      ],
      "acceptance_criteria": [
        "Post displays",
        "Formatting correct",
        "Voting works",
        "Replies shown",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-077",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "medium",
      "description": "Forum replies with nesting",
      "defer_to_next_sprint": false,
      "steps": [
        "Reply component",
        "Reply form",
        "Nested replies display (3 levels)",
        "Collapse/expand threads",
        "Quote reply",
        "Edit/delete own",
        "Tests"
      ],
      "acceptance_criteria": [
        "Replies work",
        "Nesting works (3 levels)",
        "Collapse works",
        "Edit/delete work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-078",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "medium",
      "description": "Forum voting system",
      "defer_to_next_sprint": false,
      "steps": [
        "Vote buttons",
        "Upvote/downvote",
        "Update counts",
        "Prevent duplicates",
        "Show user's vote",
        "Sort by votes",
        "Tests"
      ],
      "acceptance_criteria": [
        "Voting works",
        "No duplicates",
        "Counts update",
        "Sorting works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-079",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "low",
      "description": "Best answer marking",
      "defer_to_next_sprint": false,
      "steps": [
        "Mark as best answer button (OP only)",
        "Best answer badge",
        "Show at top of replies",
        "Highlight",
        "Unmark",
        "Tests"
      ],
      "acceptance_criteria": [
        "Marking works",
        "Badge shows",
        "Positioned correctly",
        "Unmarking works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-080",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "low",
      "description": "Forum moderation UI",
      "defer_to_next_sprint": false,
      "steps": [
        "Report button",
        "Report dialog",
        "Moderator dashboard (if moderator)",
        "Review reports",
        "Close/delete posts",
        "Ban users",
        "Tests"
      ],
      "acceptance_criteria": [
        "Reporting works",
        "Moderation tools work",
        "Actions apply",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-081",
      "category": "frontend-forum",
      "phase": "5j",
      "priority": "low",
      "description": "Forum user profiles & reputation",
      "defer_to_next_sprint": false,
      "steps": [
        "User profile in forum",
        "Show post count",
        "Show reputation score",
        "Show badges",
        "Link to main profile",
        "Tests"
      ],
      "acceptance_criteria": [
        "Profile displays",
        "Reputation shown",
        "Badges shown",
        "Link works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-082",
      "category": "frontend-curriculum",
      "phase": "5k",
      "priority": "medium",
      "description": "Curriculum browse page",
      "defer_to_next_sprint": false,
      "steps": [
        "Browse page",
        "List public curriculums",
        "Categories",
        "Difficulty filters",
        "Search",
        "Sort (popular, recent, rating)",
        "Follow button",
        "Tests"
      ],
      "acceptance_criteria": [
        "List displays",
        "Filters work",
        "Search works",
        "Sorting works",
        "Follow works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-083",
      "category": "frontend-curriculum",
      "phase": "5k",
      "priority": "medium",
      "description": "Curriculum detail view",
      "defer_to_next_sprint": false,
      "steps": [
        "Curriculum page",
        "Display info",
        "Items list with order",
        "Progress indicator",
        "Follow/unfollow button",
        "Start/continue button",
        "Reviews section",
        "Tests"
      ],
      "acceptance_criteria": [
        "Info displays",
        "Items shown in order",
        "Progress shown",
        "Actions work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-084",
      "category": "frontend-curriculum",
      "phase": "5k",
      "priority": "high",
      "description": "Create/edit curriculum (Pro/Scholar)",
      "defer_to_next_sprint": false,
      "steps": [
        "Create/edit page",
        "Title/description",
        "Category/difficulty",
        "Privacy selector",
        "Add items (books, articles)",
        "Reorder items",
        "Save",
        "Tests"
      ],
      "acceptance_criteria": [
        "Creation works (tier-gated)",
        "Editing works",
        "Reordering works",
        "Saves correctly",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-085",
      "category": "frontend-curriculum",
      "phase": "5k",
      "priority": "medium",
      "description": "Curriculum progress tracking",
      "defer_to_next_sprint": false,
      "steps": [
        "Progress component",
        "Current item indicator",
        "Percentage complete",
        "Mark item complete button",
        "Next item button",
        "Tests"
      ],
      "acceptance_criteria": [
        "Progress accurate",
        "Marking works",
        "Navigation works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-086",
      "category": "frontend-curriculum",
      "phase": "5k",
      "priority": "low",
      "description": "My curriculums page",
      "defer_to_next_sprint": false,
      "steps": [
        "My curriculums page",
        "Created tab",
        "Following tab",
        "Display with progress",
        "Continue button",
        "Tests"
      ],
      "acceptance_criteria": [
        "Both tabs work",
        "Progress shown",
        "Continuation works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-087",
      "category": "frontend-curriculum",
      "phase": "5k",
      "priority": "low",
      "description": "Curriculum reviews/ratings",
      "defer_to_next_sprint": false,
      "steps": [
        "Reviews section",
        "Leave review (if followed)",
        "Star rating",
        "Comment",
        "Display reviews",
        "Sort reviews",
        "Tests"
      ],
      "acceptance_criteria": [
        "Review submission works",
        "Display works",
        "Sorting works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-088",
      "category": "frontend-curriculum",
      "phase": "5k",
      "priority": "low",
      "description": "Curriculum sharing",
      "defer_to_next_sprint": false,
      "steps": [
        "Share button",
        "Generate share link",
        "Copy link",
        "Social media share buttons",
        "Tests"
      ],
      "acceptance_criteria": [
        "Share link works",
        "Copy works",
        "Social share works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-089",
      "category": "frontend-settings",
      "phase": "5l",
      "priority": "high",
      "description": "General settings page",
      "defer_to_next_sprint": false,
      "steps": [
        "Settings page",
        "Language selector",
        "Timezone",
        "Display name",
        "Email notifications toggle",
        "Save",
        "Tests"
      ],
      "acceptance_criteria": ["All settings work", "Persist", "Tests pass"],
      "passes": true
    },
    {
      "id": "frontend-090",
      "category": "frontend-settings",
      "phase": "5l",
      "priority": "high",
      "description": "Reader preferences page",
      "defer_to_next_sprint": false,
      "steps": [
        "Reader settings",
        "Default theme",
        "Default font/size",
        "Auto-save progress",
        "Page turn animation",
        "Tests"
      ],
      "acceptance_criteria": [
        "All preferences configurable",
        "Persist",
        "Apply to reader",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-091",
      "category": "frontend-settings",
      "phase": "5l",
      "priority": "medium",
      "description": "Privacy settings page",
      "defer_to_next_sprint": false,
      "steps": [
        "Privacy settings",
        "Profile visibility",
        "Activity visibility",
        "Show in leaderboard toggle",
        "Block list",
        "Tests"
      ],
      "acceptance_criteria": [
        "All privacy settings work",
        "Enforced correctly",
        "Block list works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-092",
      "category": "frontend-settings",
      "phase": "5l",
      "priority": "medium",
      "description": "Notification preferences",
      "defer_to_next_sprint": false,
      "steps": [
        "Notification settings",
        "Email notifications toggles",
        "Push notification toggles (if PWA)",
        "Notification types",
        "Tests"
      ],
      "acceptance_criteria": [
        "All toggles work",
        "Email prefs save",
        "Push prefs save",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-093",
      "category": "frontend-settings",
      "phase": "5l",
      "priority": "low",
      "description": "Account management page",
      "defer_to_next_sprint": false,
      "steps": [
        "Account page",
        "Change password",
        "Linked accounts (OAuth)",
        "Delete account button",
        "Deletion confirmation",
        "Tests"
      ],
      "acceptance_criteria": [
        "Password change works",
        "OAuth display works",
        "Deletion works (with confirmation)",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-094",
      "category": "frontend-settings",
      "phase": "5l",
      "priority": "low",
      "description": "Subscription management page (tiers)",
      "defer_to_next_sprint": false,
      "steps": [
        "Subscription page",
        "Show current tier",
        "Tier comparison table",
        "Upgrade/downgrade buttons",
        "Billing history",
        "Cancel subscription",
        "Tests"
      ],
      "acceptance_criteria": [
        "Tier shown correctly",
        "Upgrade works",
        "Downgrade works",
        "Billing shown",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-095",
      "category": "frontend-settings",
      "phase": "5l",
      "priority": "low",
      "description": "Data & privacy page",
      "defer_to_next_sprint": false,
      "steps": [
        "Data page",
        "Download my data button",
        "Data export options",
        "Privacy policy link",
        "Terms link",
        "Tests"
      ],
      "acceptance_criteria": [
        "Export works",
        "All options work",
        "Links work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-096",
      "category": "frontend-a11y",
      "phase": "5m",
      "priority": "critical",
      "description": "WCAG 2.2 AAA compliance audit",
      "defer_to_next_sprint": false,
      "steps": [
        "Run accessibility audit",
        "Fix color contrast issues (7:1 for AAA)",
        "Add ARIA labels",
        "Keyboard navigation",
        "Screen reader testing",
        "Document compliance",
        "Tests"
      ],
      "acceptance_criteria": [
        "Audit passes WCAG AAA",
        "All issues fixed",
        "Keyboard nav works",
        "Screen reader works",
        "Documented"
      ],
      "passes": true
    },
    {
      "id": "frontend-097",
      "category": "frontend-a11y",
      "phase": "5m",
      "priority": "high",
      "description": "Focus management & indicators",
      "defer_to_next_sprint": false,
      "steps": [
        "Visible focus indicators",
        "Focus trap in modals",
        "Restore focus on close",
        "Skip links",
        "Focus management",
        "Tests"
      ],
      "acceptance_criteria": [
        "Focus always visible",
        "Traps work",
        "Restoration works",
        "Skip links work",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-098",
      "category": "frontend-a11y",
      "phase": "5m",
      "priority": "high",
      "description": "Screen reader announcements",
      "defer_to_next_sprint": false,
      "steps": [
        "Announce route changes",
        "Announce dynamic content",
        "Announce errors",
        "Announce successes",
        "Live regions",
        "Tests"
      ],
      "acceptance_criteria": [
        "All announcements work",
        "Live regions work",
        "SR testing passes",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-099",
      "category": "frontend-a11y",
      "phase": "5m",
      "priority": "medium",
      "description": "Reduce motion support",
      "defer_to_next_sprint": false,
      "steps": [
        "Detect prefers-reduced-motion",
        "Disable animations if set",
        "Disable parallax",
        "Disable auto-play",
        "Tests"
      ],
      "acceptance_criteria": [
        "Detection works",
        "Animations respect setting",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-100",
      "category": "frontend-a11y",
      "phase": "5m",
      "priority": "medium",
      "description": "High contrast mode enhancements",
      "defer_to_next_sprint": false,
      "steps": [
        "Test high-contrast theme",
        "Enhance contrast further",
        "Test with Windows high-contrast",
        "Border emphasis",
        "Tests"
      ],
      "acceptance_criteria": [
        "High-contrast excellent",
        "Windows compatible",
        "Borders clear",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-101",
      "category": "frontend-a11y",
      "phase": "5m",
      "priority": "low",
      "description": "Accessibility settings page",
      "defer_to_next_sprint": false,
      "steps": [
        "A11y settings",
        "Font size override",
        "High-contrast toggle",
        "Reduce motion toggle",
        "Screen reader optimizations",
        "Tests"
      ],
      "acceptance_criteria": [
        "All settings work",
        "Override works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-102",
      "category": "frontend-mobile",
      "phase": "5n",
      "priority": "critical",
      "description": "Mobile-responsive layouts",
      "defer_to_next_sprint": false,
      "steps": [
        "Audit all pages",
        "Make responsive (320px-1920px)",
        "Test on mobile devices",
        "Fix layout issues",
        "Touch targets 44x44px",
        "Tests"
      ],
      "acceptance_criteria": [
        "All pages responsive",
        "Touch targets adequate",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-103",
      "category": "frontend-mobile",
      "phase": "5n",
      "priority": "high",
      "description": "Mobile navigation & menu",
      "defer_to_next_sprint": false,
      "steps": [
        "Hamburger menu",
        "Drawer navigation",
        "Bottom navigation bar",
        "Responsive header",
        "Tests"
      ],
      "acceptance_criteria": [
        "Mobile nav works",
        "Drawer works",
        "Bottom nav works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-104",
      "category": "frontend-mobile",
      "phase": "5n",
      "priority": "high",
      "description": "Mobile reader optimizations",
      "defer_to_next_sprint": false,
      "steps": [
        "Optimize reader for mobile",
        "Touch gestures (swipe to turn)",
        "Mobile toolbar",
        "Performance optimizations",
        "Tests"
      ],
      "acceptance_criteria": [
        "Reader works well on mobile",
        "Gestures work",
        "Performance good",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-105",
      "category": "frontend-mobile",
      "phase": "5n",
      "priority": "medium",
      "description": "Tablet-specific layouts",
      "defer_to_next_sprint": false,
      "steps": [
        "Optimize for tablet sizes (768px-1024px)",
        "Two-column layouts",
        "Sidebar visibility",
        "Tests"
      ],
      "acceptance_criteria": [
        "Tablet layouts work",
        "Utilizes space well",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "pwa-001",
      "category": "pwa",
      "phase": "6a",
      "priority": "critical",
      "description": "Service worker setup",
      "defer_to_next_sprint": false,
      "steps": [
        "Create service worker",
        "Register SW",
        "Cache strategy setup",
        "Update handling",
        "Version management",
        "Tests"
      ],
      "acceptance_criteria": [
        "SW registers",
        "Caching works",
        "Updates handled",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "pwa-002",
      "category": "pwa",
      "phase": "6a",
      "priority": "critical",
      "description": "Offline page caching",
      "defer_to_next_sprint": false,
      "steps": [
        "Cache app shell",
        "Cache static assets",
        "Cache routes",
        "Fallback offline page",
        "Tests"
      ],
      "acceptance_criteria": [
        "App shell cached",
        "Assets cached",
        "Offline page works",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "pwa-003",
      "category": "pwa",
      "phase": "6a",
      "priority": "critical",
      "description": "Book download for offline reading",
      "defer_to_next_sprint": false,
      "steps": [
        "Download book button",
        "Store in IndexedDB",
        "Display offline badge",
        "List downloaded books",
        "Remove download",
        "Storage quota management",
        "Tests"
      ],
      "acceptance_criteria": [
        "Download works",
        "Storage works",
        "Badge shows",
        "List works",
        "Removal works",
        "Quota managed",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "pwa-004",
      "category": "pwa",
      "phase": "6a",
      "priority": "high",
      "description": "Offline reading progress sync",
      "defer_to_next_sprint": false,
      "steps": [
        "Track progress offline",
        "Queue progress updates",
        "Sync when online",
        "Conflict resolution",
        "Sync status indicator",
        "Tests"
      ],
      "acceptance_criteria": [
        "Offline tracking works",
        "Queuing works",
        "Sync works",
        "Conflicts resolved",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "pwa-005",
      "category": "pwa",
      "phase": "6a",
      "priority": "high",
      "description": "Offline annotations sync",
      "defer_to_next_sprint": false,
      "steps": [
        "Create annotations offline",
        "Store in IndexedDB",
        "Queue for sync",
        "Sync when online",
        "Show sync status",
        "Tests"
      ],
      "acceptance_criteria": [
        "Offline creation works",
        "Stored locally",
        "Sync works",
        "Status shown",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "pwa-006",
      "category": "pwa",
      "phase": "6a",
      "priority": "medium",
      "description": "Background sync for progress",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up background sync",
        "Register sync on progress change",
        "Handle sync event",
        "Retry failed syncs",
        "Tests"
      ],
      "acceptance_criteria": [
        "Background sync works",
        "Retries work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "pwa-007",
      "category": "pwa",
      "phase": "6a",
      "priority": "medium",
      "description": "Push notifications setup",
      "defer_to_next_sprint": false,
      "steps": [
        "Request notification permission",
        "Subscribe to push",
        "Handle push events",
        "Display notifications",
        "Click handling",
        "Tests"
      ],
      "acceptance_criteria": [
        "Permission works",
        "Subscription works",
        "Notifications display",
        "Clicks work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "pwa-008",
      "category": "pwa",
      "phase": "6a",
      "priority": "medium",
      "description": "SRS reminder notifications",
      "defer_to_next_sprint": false,
      "steps": [
        "Send push for due cards",
        "Notification content",
        "Click opens app to flashcards",
        "Customize frequency",
        "Tests"
      ],
      "acceptance_criteria": [
        "Reminders sent",
        "Content correct",
        "Navigation works",
        "Customizable",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "pwa-009",
      "category": "pwa",
      "phase": "6a",
      "priority": "low",
      "description": "Install prompt & onboarding",
      "defer_to_next_sprint": false,
      "steps": [
        "Show install prompt",
        "Install button",
        "Before install prompt handling",
        "Post-install onboarding",
        "Tests"
      ],
      "acceptance_criteria": [
        "Prompt shows",
        "Install works",
        "Onboarding displays",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "pwa-010",
      "category": "pwa",
      "phase": "6a",
      "priority": "low",
      "description": "Offline indicator & status",
      "defer_to_next_sprint": false,
      "steps": [
        "Detect online/offline",
        "Show offline indicator",
        "Disable online-only features",
        "Explain limitations",
        "Tests"
      ],
      "acceptance_criteria": [
        "Detection works",
        "Indicator shows",
        "Features disabled appropriately",
        "Clear messaging",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "test-001",
      "category": "testing",
      "phase": "7a",
      "priority": "critical",
      "description": "E2E: User sign up and onboarding",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up Playwright",
        "Test sign up flow",
        "Test email verification",
        "Test onboarding steps",
        "Tests"
      ],
      "acceptance_criteria": [
        "Sign up works E2E",
        "Verification works",
        "Onboarding works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-002",
      "category": "testing",
      "phase": "7a",
      "priority": "critical",
      "description": "E2E: Add book and start reading",
      "defer_to_next_sprint": false,
      "steps": [
        "Test upload",
        "Test import from URL",
        "Test paste",
        "Test library",
        "Test opening reader",
        "Tests"
      ],
      "acceptance_criteria": [
        "All add methods work E2E",
        "Library displays",
        "Reader opens",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-003",
      "category": "testing",
      "phase": "7a",
      "priority": "critical",
      "description": "E2E: Reading with annotations",
      "defer_to_next_sprint": false,
      "steps": [
        "Test reader",
        "Test highlighting",
        "Test notes",
        "Test bookmarks",
        "Test syncing",
        "Tests"
      ],
      "acceptance_criteria": [
        "Reader works E2E",
        "All annotation types work",
        "Syncing works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-004",
      "category": "testing",
      "phase": "7a",
      "priority": "high",
      "description": "E2E: AI features flow",
      "defer_to_next_sprint": false,
      "steps": [
        "Test pre-reading guide",
        "Test explain",
        "Test ask questions",
        "Test comprehension checks",
        "Tests"
      ],
      "acceptance_criteria": [
        "All AI features work E2E",
        "Streaming works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-005",
      "category": "testing",
      "phase": "7a",
      "priority": "high",
      "description": "E2E: SRS flashcard flow",
      "defer_to_next_sprint": false,
      "steps": [
        "Test card creation",
        "Test study session",
        "Test SM-2 algorithm",
        "Test stats",
        "Tests"
      ],
      "acceptance_criteria": [
        "Cards work E2E",
        "Study works",
        "Algorithm works",
        "Stats correct",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-006",
      "category": "testing",
      "phase": "7a",
      "priority": "high",
      "description": "E2E: Assessment taking",
      "defer_to_next_sprint": false,
      "steps": [
        "Test assessment generation",
        "Test taking assessment",
        "Test grading",
        "Test results",
        "Tests"
      ],
      "acceptance_criteria": [
        "Generation works E2E",
        "Taking works",
        "Grading correct",
        "Results shown",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-007",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "E2E: Social features",
      "defer_to_next_sprint": false,
      "steps": [
        "Test profile",
        "Test following",
        "Test activity feed",
        "Test groups",
        "Tests"
      ],
      "acceptance_criteria": [
        "Profile works E2E",
        "Following works",
        "Feed works",
        "Groups work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-008",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "E2E: Forum usage",
      "defer_to_next_sprint": false,
      "steps": [
        "Test browsing forum",
        "Test creating post",
        "Test replying",
        "Test voting",
        "Tests"
      ],
      "acceptance_criteria": [
        "Forum works E2E",
        "Posts work",
        "Replies work",
        "Voting works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-009",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "Integration: API endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Test all API endpoints",
        "Test authentication",
        "Test error handling",
        "Test rate limiting",
        "Tests"
      ],
      "acceptance_criteria": [
        "All endpoints tested",
        "Auth works",
        "Errors handled",
        "Rate limits work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-010",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "Integration: Database operations",
      "defer_to_next_sprint": false,
      "steps": [
        "Test CRUD operations",
        "Test transactions",
        "Test soft deletes",
        "Test relations",
        "Tests"
      ],
      "acceptance_criteria": [
        "All DB ops tested",
        "Transactions work",
        "Soft deletes work",
        "Relations work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-011",
      "category": "testing",
      "phase": "7a",
      "priority": "low",
      "description": "Visual regression testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up visual testing",
        "Snapshot all pages",
        "Test across browsers",
        "Automated comparison",
        "Tests"
      ],
      "acceptance_criteria": [
        "Visual tests set up",
        "Snapshots work",
        "Comparison automated",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-012",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "Performance testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up Lighthouse CI",
        "Test page load times",
        "Test reader performance",
        "Test bundle size",
        "Optimize",
        "Tests"
      ],
      "acceptance_criteria": [
        "Lighthouse runs in CI",
        "Load times good",
        "Reader performant",
        "Bundle optimized",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-013",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "Accessibility testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up axe-core",
        "Test all pages",
        "Test color contrast",
        "Test keyboard nav",
        "Test screen readers",
        "Tests"
      ],
      "acceptance_criteria": [
        "Axe tests pass",
        "Contrast good",
        "Keyboard works",
        "SR works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-014",
      "category": "testing",
      "phase": "7a",
      "priority": "low",
      "description": "Cross-browser testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Test Chrome",
        "Test Firefox",
        "Test Safari",
        "Test Edge",
        "Test mobile browsers",
        "Document compatibility",
        "Tests"
      ],
      "acceptance_criteria": [
        "All browsers tested",
        "Issues documented",
        "Major browsers work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-015",
      "category": "testing",
      "phase": "7a",
      "priority": "low",
      "description": "Mobile device testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Test iOS",
        "Test Android",
        "Test various screen sizes",
        "Test touch interactions",
        "Tests"
      ],
      "acceptance_criteria": [
        "iOS works",
        "Android works",
        "All sizes work",
        "Touch works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-016",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "Security testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Test XSS prevention",
        "Test CSRF protection",
        "Test SQL injection prevention",
        "Test authentication",
        "Penetration test",
        "Tests"
      ],
      "acceptance_criteria": [
        "XSS prevented",
        "CSRF protected",
        "SQL injection blocked",
        "Auth secure",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-017",
      "category": "testing",
      "phase": "7a",
      "priority": "medium",
      "description": "Load testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up k6 or similar",
        "Test concurrent users",
        "Test API under load",
        "Test database under load",
        "Identify bottlenecks",
        "Tests"
      ],
      "acceptance_criteria": [
        "Load tests run",
        "Handles expected load",
        "Bottlenecks identified",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-018",
      "category": "testing",
      "phase": "7a",
      "priority": "low",
      "description": "Internationalization testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Test all 6 languages",
        "Test RTL layouts (Arabic)",
        "Test date/time formatting",
        "Test translations coverage",
        "Tests"
      ],
      "acceptance_criteria": [
        "All languages work",
        "RTL works",
        "Formatting correct",
        "Complete translations",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-019",
      "category": "testing",
      "phase": "7a",
      "priority": "low",
      "description": "Error boundary testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Test error boundaries",
        "Test crash reporting",
        "Test user-friendly errors",
        "Test recovery",
        "Tests"
      ],
      "acceptance_criteria": [
        "Boundaries catch errors",
        "Reporting works",
        "Errors friendly",
        "Recovery works",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "test-020",
      "category": "testing",
      "phase": "7a",
      "priority": "low",
      "description": "Data migration testing",
      "defer_to_next_sprint": false,
      "steps": [
        "Test database migrations",
        "Test data integrity",
        "Test rollback",
        "Test with production-like data",
        "Tests"
      ],
      "acceptance_criteria": [
        "Migrations work",
        "Data intact",
        "Rollback works",
        "Production-ready",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "deploy-001",
      "category": "deployment",
      "phase": "8a",
      "priority": "critical",
      "description": "Vercel project configuration",
      "defer_to_next_sprint": false,
      "steps": [
        "Create Vercel project",
        "Configure build settings",
        "Set environment variables",
        "Configure serverless functions",
        "Configure routes",
        "Tests"
      ],
      "acceptance_criteria": [
        "Project configured",
        "Build works",
        "Env vars set",
        "Functions work",
        "Routes work"
      ],
      "passes": false
    },
    {
      "id": "deploy-002",
      "category": "deployment",
      "phase": "8a",
      "priority": "critical",
      "description": "Database deployment setup",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up Vercel Postgres",
        "Run migrations on production",
        "Set up connection pooling",
        "Configure backups",
        "Tests"
      ],
      "acceptance_criteria": [
        "Postgres set up",
        "Migrations run",
        "Pooling works",
        "Backups configured"
      ],
      "passes": false
    },
    {
      "id": "deploy-003",
      "category": "deployment",
      "phase": "8a",
      "priority": "critical",
      "description": "Redis deployment (Upstash)",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up Upstash Redis",
        "Configure production connection",
        "Test caching in production",
        "Monitor performance",
        "Tests"
      ],
      "acceptance_criteria": [
        "Upstash configured",
        "Connection works",
        "Caching works",
        "Performance good"
      ],
      "passes": false
    },
    {
      "id": "deploy-004",
      "category": "deployment",
      "phase": "8a",
      "priority": "critical",
      "description": "R2 storage deployment",
      "defer_to_next_sprint": false,
      "steps": [
        "Configure Cloudflare R2",
        "Set up buckets",
        "Configure CORS",
        "Test uploads/downloads",
        "Set up CDN",
        "Tests"
      ],
      "acceptance_criteria": [
        "R2 configured",
        "Buckets created",
        "CORS works",
        "Uploads/downloads work",
        "CDN works"
      ],
      "passes": false
    },
    {
      "id": "deploy-005",
      "category": "deployment",
      "phase": "8a",
      "priority": "high",
      "description": "CI/CD pipeline setup",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up GitHub Actions",
        "Automated testing on PR",
        "Automated linting",
        "Automated typecheck",
        "Deploy on merge to main",
        "Tests"
      ],
      "acceptance_criteria": [
        "GH Actions configured",
        "Tests run on PR",
        "Linting runs",
        "Typecheck runs",
        "Auto-deploy works"
      ],
      "passes": false
    },
    {
      "id": "deploy-006",
      "category": "deployment",
      "phase": "8a",
      "priority": "high",
      "description": "Environment management",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up development environment",
        "Set up staging environment",
        "Set up production environment",
        "Document env vars",
        "Secrets management",
        "Tests"
      ],
      "acceptance_criteria": [
        "All envs set up",
        "Documented",
        "Secrets secure"
      ],
      "passes": false
    },
    {
      "id": "deploy-007",
      "category": "deployment",
      "phase": "8a",
      "priority": "high",
      "description": "Monitoring and logging setup",
      "defer_to_next_sprint": false,
      "steps": [
        "Set up Vercel Analytics",
        "Set up error tracking (Sentry)",
        "Set up logging (Winston)",
        "Set up uptime monitoring",
        "Dashboards",
        "Tests"
      ],
      "acceptance_criteria": [
        "Analytics works",
        "Error tracking works",
        "Logging works",
        "Uptime monitored",
        "Dashboards created"
      ],
      "passes": false
    },
    {
      "id": "deploy-008",
      "category": "deployment",
      "phase": "8a",
      "priority": "medium",
      "description": "Custom domain & SSL",
      "defer_to_next_sprint": false,
      "steps": [
        "Configure custom domain",
        "Set up SSL certificate",
        "Configure DNS",
        "Test HTTPS",
        "Tests"
      ],
      "acceptance_criteria": [
        "Domain works",
        "SSL works",
        "DNS correct",
        "HTTPS works"
      ],
      "passes": false
    },
    {
      "id": "deploy-009",
      "category": "deployment",
      "phase": "8a",
      "priority": "medium",
      "description": "Performance optimizations",
      "defer_to_next_sprint": false,
      "steps": [
        "Enable Vercel Edge caching",
        "Optimize images",
        "Enable compression",
        "Minify assets",
        "CDN configuration",
        "Tests"
      ],
      "acceptance_criteria": [
        "Edge caching works",
        "Images optimized",
        "Compression enabled",
        "Assets minified",
        "CDN works"
      ],
      "passes": false
    },
    {
      "id": "deploy-010",
      "category": "deployment",
      "phase": "8a",
      "priority": "low",
      "description": "Documentation & runbooks",
      "defer_to_next_sprint": false,
      "steps": [
        "Deployment documentation",
        "Troubleshooting guide",
        "Rollback procedures",
        "Scaling guide",
        "Incident response",
        "Tests"
      ],
      "acceptance_criteria": [
        "Docs complete",
        "Troubleshooting clear",
        "Rollback documented",
        "Scaling documented",
        "Incident plan ready"
      ],
      "passes": false
    },
    {
      "id": "db-tts-001",
      "category": "database",
      "phase": "discovery",
      "priority": "medium",
      "description": "Add TTSDownload database model for persistent storage",
      "defer_to_next_sprint": false,
      "steps": [
        "Add TTSDownload model to Prisma schema",
        "Include fields: id, userId, bookId, status, provider, voice, format",
        "Include fields: totalChunks, processedChunks, totalCharacters",
        "Include fields: estimatedCost, actualCost, fileKey, fileSize, downloadUrl",
        "Include fields: errorMessage, createdAt, updatedAt, completedAt, expiresAt",
        "Run migration",
        "Update download endpoints to use database",
        "Add cleanup cron job for expired downloads",
        "Write tests for database integration"
      ],
      "acceptance_criteria": [
        "TTSDownload model exists in schema",
        "Migrations run successfully",
        "Endpoints persist to database",
        "Cleanup job removes expired downloads",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "admin-001",
      "category": "admin",
      "phase": "9-admin",
      "priority": "high",
      "description": "Add UserRole enum and admin role to User model",
      "defer_to_next_sprint": false,
      "steps": [
        "Add UserRole enum (USER, MODERATOR, ADMIN, SUPER_ADMIN) to schema",
        "Add role field to User model with default USER",
        "Create migration",
        "Update seed data to include admin user",
        "Update User type in shared package",
        "Write tests"
      ],
      "acceptance_criteria": [
        "UserRole enum exists with all values",
        "User model has role field",
        "Migration runs successfully",
        "Seed data includes admin user",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "admin-002",
      "category": "admin",
      "phase": "9-admin",
      "priority": "high",
      "description": "Create requireAdmin middleware for API protection",
      "defer_to_next_sprint": false,
      "steps": [
        "Create apps/api/src/middleware/requireAdmin.ts",
        "Check user role from auth context",
        "Throw ForbiddenError if not ADMIN or SUPER_ADMIN",
        "Add audit logging for admin access attempts",
        "Export middleware",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Middleware blocks non-admin users",
        "Middleware allows ADMIN and SUPER_ADMIN",
        "Audit logs are created",
        "Clear error messages",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "admin-003",
      "category": "admin",
      "phase": "9-admin",
      "priority": "critical",
      "description": "Create DailyAnalytics model for time-series data",
      "defer_to_next_sprint": false,
      "steps": [
        "Add DailyAnalytics model to schema",
        "Include date, user metrics, revenue metrics, engagement, AI costs",
        "Add unique constraint on date",
        "Add index on date for queries",
        "Create migration",
        "Update seed data with sample analytics",
        "Write tests"
      ],
      "acceptance_criteria": [
        "DailyAnalytics model exists",
        "All metric fields included",
        "Constraints and indexes work",
        "Seed data includes sample analytics",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "admin-004",
      "category": "admin",
      "phase": "9-admin",
      "priority": "critical",
      "description": "Create analytics service with metrics calculation",
      "defer_to_next_sprint": false,
      "steps": [
        "Create apps/api/src/services/analytics.ts",
        "Implement getUserStats (total, active, by tier)",
        "Implement getRevenueStats (MRR, ARR, by tier)",
        "Implement getEngagementStats (DAU, WAU, MAU, sessions)",
        "Implement getFeatureUsageStats (AI, SRS, TTS, social)",
        "Implement getAICostStats (total cost, per user, tokens)",
        "Implement getContentStats (popular books, genres)",
        "Add caching for expensive queries",
        "Write comprehensive tests"
      ],
      "acceptance_criteria": [
        "All stats functions implemented",
        "Calculations are accurate",
        "Performance is acceptable (< 5s)",
        "Caching works correctly",
        "Tests verify all calculations"
      ],
      "passes": true
    },
    {
      "id": "admin-005",
      "category": "admin",
      "phase": "9-admin",
      "priority": "high",
      "description": "Create admin analytics API endpoints",
      "defer_to_next_sprint": false,
      "steps": [
        "Create GET /api/admin/analytics/overview",
        "Create GET /api/admin/analytics/users",
        "Create GET /api/admin/analytics/revenue",
        "Create GET /api/admin/analytics/engagement",
        "Create GET /api/admin/analytics/features",
        "Create GET /api/admin/analytics/ai-costs",
        "Create GET /api/admin/analytics/content",
        "Apply requireAdmin middleware to all",
        "Add response caching (5 min)",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All endpoints return correct data",
        "Admin-only access enforced",
        "Caching works",
        "Response times acceptable",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "admin-006",
      "category": "admin",
      "phase": "9-admin",
      "priority": "high",
      "description": "Create daily analytics cron job",
      "defer_to_next_sprint": false,
      "steps": [
        "Create api/cron/daily-analytics.ts",
        "Calculate all metrics for previous day",
        "Store in DailyAnalytics table",
        "Handle errors gracefully",
        "Send notification on failure",
        "Configure in vercel.json (runs at midnight UTC)",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Cron job runs daily",
        "Metrics calculated correctly",
        "Data stored in database",
        "Failures are logged and reported",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-106",
      "category": "frontend-admin",
      "phase": "9-admin",
      "priority": "critical",
      "description": "Create admin dashboard page with overview metrics",
      "defer_to_next_sprint": false,
      "steps": [
        "Create AdminDashboardPage component",
        "Add route protection (admin-only)",
        "Fetch analytics data from API",
        "Create MetricCard component for KPIs",
        "Display total users, MRR, AI costs",
        "Display active users, conversion rate",
        "Add auto-refresh (every 60 seconds)",
        "Add loading and error states",
        "Make responsive",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Dashboard only accessible to admins",
        "All key metrics display correctly",
        "Auto-refresh works",
        "Responsive on all screen sizes",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-107",
      "category": "frontend-admin",
      "phase": "9-admin",
      "priority": "high",
      "description": "Create users over time chart",
      "defer_to_next_sprint": false,
      "steps": [
        "Install charting library (recharts or similar)",
        "Create UsersOverTimeChart component",
        "Fetch time-series data from API",
        "Display line chart with total and active users",
        "Add date range selector (7d, 30d, 90d, 1y)",
        "Add tooltips with exact values",
        "Handle loading and error states",
        "Make responsive",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Chart displays correctly",
        "Data is accurate",
        "Date range selector works",
        "Responsive layout",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-108",
      "category": "frontend-admin",
      "phase": "9-admin",
      "priority": "high",
      "description": "Create revenue over time chart",
      "defer_to_next_sprint": false,
      "steps": [
        "Create RevenueOverTimeChart component",
        "Fetch revenue time-series data",
        "Display line chart with MRR trends",
        "Add breakdown by tier (stacked area chart)",
        "Add date range selector",
        "Add tooltips with values",
        "Show growth rate indicators",
        "Make responsive",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Chart displays MRR trends",
        "Tier breakdown works",
        "Growth rates calculated correctly",
        "Responsive layout",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-109",
      "category": "frontend-admin",
      "phase": "9-admin",
      "priority": "medium",
      "description": "Create feature usage table/chart",
      "defer_to_next_sprint": false,
      "steps": [
        "Create FeatureUsageTable component",
        "Fetch feature usage stats from API",
        "Display table with feature name, usage %, trend",
        "Add sorting by usage/trend",
        "Add filters (tier, date range)",
        "Visualize with horizontal bar chart",
        "Highlight low-usage features",
        "Make responsive",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All features listed with usage stats",
        "Sorting works",
        "Filters work",
        "Low-usage features highlighted",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-110",
      "category": "frontend-admin",
      "phase": "9-admin",
      "priority": "medium",
      "description": "Create AI costs breakdown visualization",
      "defer_to_next_sprint": false,
      "steps": [
        "Create AICostsDashboard component",
        "Display total costs and cost per user",
        "Show breakdown by feature (pie chart)",
        "Show cost trends over time (line chart)",
        "Show tokens used by feature",
        "Add cost efficiency metrics",
        "Add alerts for unusual spikes",
        "Make responsive",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Cost breakdown is accurate",
        "Charts display correctly",
        "Alerts work for spikes",
        "Responsive layout",
        "Tests pass"
      ],
      "passes": true
    },
    {
      "id": "frontend-111",
      "category": "frontend-admin",
      "phase": "9-admin",
      "priority": "low",
      "description": "Create user cohort analysis view",
      "defer_to_next_sprint": false,
      "steps": [
        "Create CohortAnalysisView component",
        "Fetch cohort data from API",
        "Display retention cohort table",
        "Color-code retention rates",
        "Add cohort comparison",
        "Add filters (date range, tier)",
        "Make responsive",
        "Write tests"
      ],
      "acceptance_criteria": [
        "Cohort table displays correctly",
        "Retention rates calculated correctly",
        "Color coding helps identify trends",
        "Filters work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "frontend-112",
      "category": "frontend-admin",
      "phase": "9-admin",
      "priority": "low",
      "description": "Create analytics export functionality",
      "defer_to_next_sprint": false,
      "steps": [
        "Create ExportDialog component",
        "Add export format selector (CSV, PDF, JSON)",
        "Add date range selector",
        "Add metric selector (which metrics to include)",
        "Generate export on server",
        "Trigger download",
        "Add email option for large exports",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All formats work (CSV, PDF, JSON)",
        "Date range filtering works",
        "Metric selection works",
        "Downloads work",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "admin-007",
      "category": "admin",
      "phase": "9-admin",
      "priority": "medium",
      "description": "Create admin user management page",
      "defer_to_next_sprint": false,
      "steps": [
        "Create GET /api/admin/users endpoint with pagination",
        "Create PUT /api/admin/users/:id/role endpoint",
        "Create PUT /api/admin/users/:id/tier endpoint",
        "Create DELETE /api/admin/users/:id endpoint",
        "Create AdminUsersPage component",
        "Display users table with search/filter",
        "Add role management UI",
        "Add tier management UI",
        "Add user deletion with confirmation",
        "Add audit logging",
        "Write tests"
      ],
      "acceptance_criteria": [
        "User list displays with pagination",
        "Search and filters work",
        "Role changes work with audit trail",
        "Tier changes work",
        "User deletion works (soft delete)",
        "Tests pass"
      ],
      "passes": false
    },
    {
      "id": "admin-008",
      "category": "admin",
      "phase": "9-admin",
      "priority": "low",
      "description": "Create admin settings page",
      "defer_to_next_sprint": false,
      "steps": [
        "Create AdminSettingsPage component",
        "Add feature flags management",
        "Add system notifications",
        "Add maintenance mode toggle",
        "Add rate limit configuration",
        "Add API key management",
        "Save settings to database",
        "Write tests"
      ],
      "acceptance_criteria": [
        "All settings are configurable",
        "Changes persist correctly",
        "Maintenance mode works",
        "Tests pass"
      ],
      "passes": false
    }
  ]
}
